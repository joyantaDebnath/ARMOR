<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Armor.Data.X509.PublicKey.Val.EC.Parser</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Armor.Binary.html" class="Module">Armor.Binary</a>
<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Armor.Data.X509.PublicKey.Val.EC.TCB.html" class="Module">Armor.Data.X509.PublicKey.Val.EC.TCB</a>
<a id="75" class="Keyword">open</a> <a id="80" class="Keyword">import</a> <a id="87" href="Armor.Data.X690-DER.TLV.html" class="Module">Armor.Data.X690-DER.TLV</a>
<a id="111" class="Keyword">open</a> <a id="116" class="Keyword">import</a> <a id="123" href="Armor.Data.X690-DER.BitString.html" class="Module">Armor.Data.X690-DER.BitString</a>
<a id="153" class="Keyword">open</a> <a id="158" class="Keyword">import</a> <a id="165" href="Armor.Data.X690-DER.OctetString.html" class="Module">Armor.Data.X690-DER.OctetString</a>
<a id="197" class="Keyword">import</a>      <a id="209" href="Armor.Data.X690-DER.Tag.html" class="Module">Armor.Data.X690-DER.Tag</a> <a id="233" class="Symbol">as</a> <a id="236" class="Module">Tag</a>
<a id="240" class="Keyword">import</a>      <a id="252" href="Armor.Grammar.Definitions.html" class="Module">Armor.Grammar.Definitions</a>
<a id="278" class="Keyword">import</a>      <a id="290" href="Armor.Grammar.Parallel.html" class="Module">Armor.Grammar.Parallel</a>
<a id="313" class="Keyword">import</a>      <a id="325" href="Armor.Grammar.Parser.html" class="Module">Armor.Grammar.Parser</a>
<a id="346" class="Keyword">import</a>      <a id="358" href="Armor.Grammar.Properties.html" class="Module">Armor.Grammar.Properties</a>
<a id="383" class="Keyword">import</a>      <a id="395" href="Armor.Grammar.Seq.html" class="Module">Armor.Grammar.Seq</a>       
<a id="420" class="Keyword">open</a> <a id="425" class="Keyword">import</a> <a id="432" href="Armor.Prelude.html" class="Module">Armor.Prelude</a>

<a id="447" class="Keyword">module</a> <a id="454" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html" class="Module">Armor.Data.X509.PublicKey.Val.EC.Parser</a> <a id="494" class="Keyword">where</a>

<a id="501" class="Keyword">open</a> <a id="506" href="Armor.Grammar.Definitions.html" class="Module">Armor.Grammar.Definitions</a> <a id="532" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
<a id="538" class="Keyword">open</a> <a id="543" href="Armor.Grammar.Parallel.html" class="Module">Armor.Grammar.Parallel</a>    <a id="569" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
<a id="575" class="Keyword">open</a> <a id="580" href="Armor.Grammar.Parser.html" class="Module">Armor.Grammar.Parser</a>      <a id="606" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
<a id="612" class="Keyword">open</a> <a id="617" href="Armor.Grammar.Properties.html" class="Module">Armor.Grammar.Properties</a>  <a id="643" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
<a id="649" class="Keyword">open</a> <a id="654" href="Armor.Grammar.Seq.html" class="Module">Armor.Grammar.Seq</a>         <a id="680" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>

<a id="687" class="Keyword">private</a>
  <a id="here&#39;"></a><a id="697" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#697" class="Function">here&#39;</a> <a id="703" class="Symbol">=</a> <a id="705" class="String">&quot;X509: PublicKey: Val: EC&quot;</a>

<a id="parseValue"></a><a id="733" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#733" class="Function">parseValue</a> <a id="744" class="Symbol">:</a> <a id="746" class="Symbol">∀</a> <a id="748" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#748" class="Bound">n</a> <a id="750" class="Symbol">→</a> <a id="752" href="Armor.Grammar.Parser.Core.html#844" class="Function">Parser</a> <a id="759" class="Symbol">(</a><a id="760" href="Armor.Prelude.html#14201" class="Record">Logging</a> <a id="768" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="770" href="Relation.Nullary.html#1511" class="Record">Dec</a><a id="773" class="Symbol">)</a> <a id="775" class="Symbol">(</a><a id="776" href="Armor.Grammar.Parallel.TCB.html#1532" class="Function">ExactLength</a> <a id="788" href="Armor.Data.X509.PublicKey.Val.EC.TCB.html#1208" class="Function">ECBitStringValue</a> <a id="805" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#748" class="Bound">n</a><a id="806" class="Symbol">)</a>
<a id="808" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#733" class="Function">parseValue</a> <a id="819" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#819" class="Bound">n</a> <a id="821" class="Symbol">=</a>
  <a id="825" href="Armor.Grammar.Parser.Core.html#977" class="Function">parseEquivalent</a> <a id="841" class="Symbol">(</a><a id="842" href="Armor.Grammar.Definitions.Iso.Properties.html#704" class="Function">Iso.symEquivalent</a> <a id="860" href="Armor.Grammar.Properties.html#982" class="Function">Distribute.exactLength-&amp;</a><a id="884" class="Symbol">)</a>
    <a id="890" class="Symbol">(</a><a id="891" href="Armor.Grammar.Seq.Parser.html#2549" class="Function">parse&amp;ᵈ</a>
      <a id="905" class="Symbol">(</a><a id="906" href="Armor.Grammar.Parallel.Properties.html#1726" class="Function">Parallel.nosubstrings₁</a> <a id="929" class="Symbol">λ</a> <a id="931" class="Keyword">where</a> <a id="937" class="Symbol">_</a> <a id="939" class="Symbol">(</a><a id="940" href="Armor.Prelude.html#7719" class="InductiveConstructor Operator">─</a> <a id="942" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="946" class="Symbol">)</a> <a id="948" class="Symbol">(</a><a id="949" href="Armor.Prelude.html#7719" class="InductiveConstructor Operator">─</a> <a id="951" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="955" class="Symbol">)</a> <a id="957" class="Symbol">→</a> <a id="959" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="963" class="Symbol">)</a>
      <a id="971" class="Symbol">(</a><a id="972" href="Armor.Grammar.Parallel.Properties.html#5095" class="Function">Parallel.Length≤.unambiguous</a> <a id="1001" class="Symbol">_</a> <a id="1003" class="Symbol">(</a><a id="1004" href="Armor.Prelude.html#8358" class="Function">erased-unique</a> <a id="1018" href="Armor.Prelude.html#3950" class="Function">≡-unique</a><a id="1026" class="Symbol">))</a>
      <a id="1035" class="Symbol">(</a><a id="1036" href="Armor.Grammar.Parallel.Parser.html#4826" class="Function">parse≤</a> <a id="1043" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#819" class="Bound">n</a>
        <a id="1053" class="Symbol">(</a><a id="1054" href="Armor.Grammar.Parser.Lit.html#1217" class="Function">parseLitE</a> <a id="1064" class="Symbol">(</a><a id="1065" href="Armor.Prelude.html#14135" class="Field">tell</a> <a id="1070" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="1072" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#697" class="Function">here&#39;</a> <a id="1078" href="Data.String.Base.html#2366" class="Function Operator">String.++</a> <a id="1088" class="String">&quot;: underflow&quot;</a><a id="1101" class="Symbol">)</a> <a id="1103" class="Symbol">(</a><a id="1104" href="Armor.Prelude.html#14135" class="Field">tell</a> <a id="1109" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="1111" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#697" class="Function">here&#39;</a> <a id="1117" href="Data.String.Base.html#2366" class="Function Operator">String.++</a> <a id="1127" class="String">&quot;: mismatch&quot;</a><a id="1139" class="Symbol">)</a> <a id="1141" href="Data.List.Base.html#5025" class="Function Operator">[</a> <a id="1143" href="Armor.Prelude.html#9247" class="Function Operator">#</a> <a id="1145" class="Number">0</a> <a id="1147" href="Data.List.Base.html#5025" class="Function Operator">]</a><a id="1148" class="Symbol">)</a>
        <a id="1158" class="Symbol">(λ</a> <a id="1161" class="Keyword">where</a> <a id="1167" class="Symbol">_</a> <a id="1169" class="Symbol">(</a><a id="1170" href="Armor.Prelude.html#7719" class="InductiveConstructor Operator">─</a> <a id="1172" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1176" class="Symbol">)</a> <a id="1178" class="Symbol">(</a><a id="1179" href="Armor.Prelude.html#7719" class="InductiveConstructor Operator">─</a> <a id="1181" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1185" class="Symbol">)</a> <a id="1187" class="Symbol">→</a> <a id="1189" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="1193" class="Symbol">)</a>
        <a id="1203" class="Symbol">(</a><a id="1204" href="Armor.Prelude.html#14135" class="Field">tell</a> <a id="1209" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="1211" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#697" class="Function">here&#39;</a> <a id="1217" href="Data.String.Base.html#2366" class="Function Operator">String.++</a> <a id="1227" class="String">&quot;: length overflow&quot;</a><a id="1246" class="Symbol">))</a>
        <a id="1257" class="Symbol">λ</a> <a id="1259" class="Keyword">where</a>
          <a id="1275" class="Symbol">(</a><a id="1276" href="Armor.Prelude.html#7136" class="InductiveConstructor">singleton</a> <a id="1286" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#1286" class="Bound">r</a> <a id="1288" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#1288" class="Bound">r≡</a><a id="1290" class="Symbol">)</a> <a id="1292" class="Symbol">_</a> <a id="1294" class="Symbol">→</a>
            <a id="1308" href="Armor.Prelude.html#4511" class="Function">subst₀</a> <a id="1315" class="Symbol">(λ</a> <a id="1318" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#1318" class="Bound">x</a> <a id="1320" class="Symbol">→</a> <a id="1322" href="Armor.Grammar.Parser.Core.html#844" class="Function">Parser</a> <a id="1329" class="Symbol">(</a><a id="1330" href="Armor.Prelude.html#14201" class="Record">Logging</a> <a id="1338" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1340" href="Relation.Nullary.html#1511" class="Record">Dec</a><a id="1343" class="Symbol">)</a> <a id="1345" class="Symbol">(</a><a id="1346" href="Armor.Grammar.Parallel.TCB.html#1532" class="Function">ExactLength</a> <a id="1358" href="Armor.Data.X690-DER.OctetString.TCB.html#2110" class="Function">OctetStringValue</a> <a id="1375" class="Symbol">(</a><a id="1376" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#819" class="Bound">n</a> <a id="1378" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">∸</a> <a id="1380" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#1318" class="Bound">x</a><a id="1381" class="Symbol">)))</a>
              <a id="1399" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#1288" class="Bound">r≡</a> <a id="1402" class="Symbol">(</a><a id="1403" href="Armor.Data.X690-DER.OctetString.Parser.html#494" class="Function">OctetString.parseValue</a> <a id="1426" class="Symbol">(</a><a id="1427" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#819" class="Bound">n</a> <a id="1429" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="1431" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#1286" class="Bound">r</a><a id="1432" class="Symbol">)))</a>

<a id="parse"></a><a id="1437" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#1437" class="Function">parse</a> <a id="1443" class="Symbol">:</a> <a id="1445" href="Armor.Grammar.Parser.Core.html#844" class="Function">Parser</a> <a id="1452" class="Symbol">(</a><a id="1453" href="Armor.Prelude.html#14201" class="Record">Logging</a> <a id="1461" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1463" href="Relation.Nullary.html#1511" class="Record">Dec</a><a id="1466" class="Symbol">)</a> <a id="1468" href="Armor.Data.X509.PublicKey.Val.EC.TCB.html#1424" class="Function">ECBitString</a>
<a id="1480" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#1437" class="Function">parse</a> <a id="1486" class="Symbol">=</a> <a id="1488" href="Armor.Data.X690-DER.TLV.Parser.html#788" class="Function">parseTLV</a> <a id="1497" class="Symbol">_</a> <a id="1499" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#697" class="Function">here&#39;</a> <a id="1505" class="Symbol">_</a> <a id="1507" href="Armor.Data.X509.PublicKey.Val.EC.Parser.html#733" class="Function">parseValue</a>
</pre></body></html>