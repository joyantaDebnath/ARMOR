<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Armor.Data.X690-DER.Int.TCB</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Armor.Binary.html" class="Module">Armor.Binary</a>
<a id="26" class="Keyword">import</a>      <a id="38" href="Armor.Data.X690-DER.Tag.html" class="Module">Armor.Data.X690-DER.Tag</a> <a id="62" class="Symbol">as</a> <a id="65" class="Module">Tag</a>
<a id="69" class="Keyword">open</a> <a id="74" class="Keyword">import</a> <a id="81" href="Armor.Data.X690-DER.TLV.TCB.html" class="Module">Armor.Data.X690-DER.TLV.TCB</a>
<a id="109" class="Keyword">import</a>      <a id="121" href="Armor.Grammar.Definitions.NonMalleable.html" class="Module">Armor.Grammar.Definitions.NonMalleable</a>
<a id="160" class="Keyword">open</a> <a id="165" class="Keyword">import</a> <a id="172" href="Armor.Prelude.html" class="Module">Armor.Prelude</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Relation.Nullary.Implication.html" class="Module">Relation.Nullary.Implication</a>

<a id="228" class="Keyword">module</a> <a id="235" href="Armor.Data.X690-DER.Int.TCB.html" class="Module">Armor.Data.X690-DER.Int.TCB</a> <a id="263" class="Keyword">where</a>

<a id="270" class="Keyword">open</a> <a id="275" href="Armor.Grammar.Definitions.NonMalleable.html" class="Module">Armor.Grammar.Definitions.NonMalleable</a> <a id="314" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>

<a id="321" class="Comment">{- T-REC-X.690-202102-I!!PDF-E.pdf
8.3 Encoding of an integer value

8.3.1 The encoding of an integer value shall be primitive. The contents octets
      shall consist of one or more octets.

8.3.2 If the contents octets of an integer value encoding consist of more than
      one octet, then the bits of the first octet and bit 8 of the second octet:
      a) shall not all be ones; and
      b) shall not all be zero.
      NOTE – These rules ensure that an integer value is always encoded in the
      smallest possible number of octets.

8.3.3 The contents octets shall be a two&#39;s complement binary number equal to the
      integer value, and consisting of bits 8 to 1 of the first octet, followed
      by bits 8 to 1 of the second octet, followed by bits 8 to 1 of each octet
      in turn up to and including the last octet of the contents octets.
-}</a>

<a id="1181" class="Keyword">record</a> <a id="IntegerValue"></a><a id="1188" href="Armor.Data.X690-DER.Int.TCB.html#1188" class="Record">IntegerValue</a> <a id="1201" class="Symbol">(@</a><a id="1203" class="Symbol">0</a> <a id="1205" href="Armor.Data.X690-DER.Int.TCB.html#1205" class="Bound">bs</a> <a id="1208" class="Symbol">:</a> <a id="1210" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1215" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a><a id="1220" class="Symbol">)</a> <a id="1222" class="Symbol">:</a> <a id="1224" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1228" class="Keyword">where</a>
  <a id="1236" class="Keyword">constructor</a> <a id="mkIntVal"></a><a id="1248" href="Armor.Data.X690-DER.Int.TCB.html#1248" class="InductiveConstructor">mkIntVal</a>
  <a id="1259" class="Keyword">field</a>
    <a id="1269" class="Symbol">@</a><a id="1270" class="Symbol">0</a> <a id="IntegerValue.bₕ"></a><a id="1272" href="Armor.Data.X690-DER.Int.TCB.html#1272" class="Field">bₕ</a> <a id="1275" class="Symbol">:</a> <a id="1277" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
    <a id="1287" class="Symbol">@</a><a id="1288" class="Symbol">0</a> <a id="IntegerValue.bₜ"></a><a id="1290" href="Armor.Data.X690-DER.Int.TCB.html#1290" class="Field">bₜ</a> <a id="1293" class="Symbol">:</a> <a id="1295" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1300" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
    <a id="1310" class="Symbol">@</a><a id="1311" class="Symbol">0</a> <a id="IntegerValue.minRep"></a><a id="1313" href="Armor.Data.X690-DER.Int.TCB.html#1313" class="Field">minRep</a> <a id="1320" class="Symbol">:</a> <a id="1322" href="Armor.Binary.UInt8.TCB.html#930" class="Function">TwosComplementMinRep</a> <a id="1343" href="Armor.Data.X690-DER.Int.TCB.html#1272" class="Field">bₕ</a> <a id="1346" href="Armor.Data.X690-DER.Int.TCB.html#1290" class="Field">bₜ</a>
    <a id="IntegerValue.val"></a><a id="1353" href="Armor.Data.X690-DER.Int.TCB.html#1353" class="Field">val</a> <a id="1357" class="Symbol">:</a> <a id="1359" href="Armor.Prelude.html#7068" class="Record">Singleton</a> <a id="1369" class="Symbol">(</a><a id="1370" href="Armor.Binary.UInt8.TCB.html#754" class="Function">twosComplement</a> <a id="1385" class="Symbol">(</a><a id="1386" href="Armor.Data.X690-DER.Int.TCB.html#1272" class="Field">bₕ</a> <a id="1389" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1391" href="Armor.Data.X690-DER.Int.TCB.html#1290" class="Field">bₜ</a><a id="1393" class="Symbol">))</a>
    <a id="1400" class="Symbol">@</a><a id="1401" class="Symbol">0</a> <a id="IntegerValue.bs≡"></a><a id="1403" href="Armor.Data.X690-DER.Int.TCB.html#1403" class="Field">bs≡</a> <a id="1407" class="Symbol">:</a> <a id="1409" href="Armor.Data.X690-DER.Int.TCB.html#1205" class="Bound">bs</a> <a id="1412" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1414" href="Armor.Data.X690-DER.Int.TCB.html#1272" class="Field">bₕ</a> <a id="1417" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1419" href="Armor.Data.X690-DER.Int.TCB.html#1290" class="Field">bₜ</a>

<a id="[_]Int"></a><a id="1423" href="Armor.Data.X690-DER.Int.TCB.html#1423" class="Function Operator">[_]Int</a> <a id="1430" class="Symbol">:</a> <a id="1432" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a> <a id="1438" class="Symbol">→</a> <a id="1440" class="Symbol">@</a><a id="1441" class="Symbol">0</a> <a id="1443" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1448" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a> <a id="1454" class="Symbol">→</a> <a id="1456" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1460" href="Armor.Data.X690-DER.Int.TCB.html#1423" class="Function Operator">[</a> <a id="1462" href="Armor.Data.X690-DER.Int.TCB.html#1462" class="Bound">t</a> <a id="1464" href="Armor.Data.X690-DER.Int.TCB.html#1423" class="Function Operator">]Int</a> <a id="1469" class="Symbol">=</a> <a id="1471" href="Armor.Data.X690-DER.TLV.TCB.html#534" class="Record">TLV</a> <a id="1475" href="Armor.Data.X690-DER.Int.TCB.html#1462" class="Bound">t</a> <a id="1477" href="Armor.Data.X690-DER.Int.TCB.html#1188" class="Record">IntegerValue</a>

<a id="Int"></a><a id="1491" href="Armor.Data.X690-DER.Int.TCB.html#1491" class="Function">Int</a> <a id="1495" class="Symbol">:</a> <a id="1497" class="Symbol">@</a><a id="1498" class="Symbol">0</a> <a id="1500" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1505" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a> <a id="1511" class="Symbol">→</a> <a id="1513" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1517" href="Armor.Data.X690-DER.Int.TCB.html#1491" class="Function">Int</a> <a id="1521" class="Symbol">=</a> <a id="1523" href="Armor.Data.X690-DER.Int.TCB.html#1423" class="Function Operator">[</a> <a id="1525" href="Armor.Data.X690-DER.Tag.html#163" class="Function">Tag.Integer</a> <a id="1537" href="Armor.Data.X690-DER.Int.TCB.html#1423" class="Function Operator">]Int</a>

<a id="getVal"></a><a id="1543" href="Armor.Data.X690-DER.Int.TCB.html#1543" class="Function">getVal</a> <a id="1550" class="Symbol">:</a> <a id="1552" class="Symbol">∀</a> <a id="1554" class="Symbol">{@</a><a id="1556" class="Symbol">0</a> <a id="1558" href="Armor.Data.X690-DER.Int.TCB.html#1558" class="Bound">bs</a><a id="1560" class="Symbol">}</a> <a id="1562" class="Symbol">→</a> <a id="1564" href="Armor.Data.X690-DER.Int.TCB.html#1491" class="Function">Int</a> <a id="1568" href="Armor.Data.X690-DER.Int.TCB.html#1558" class="Bound">bs</a> <a id="1571" class="Symbol">→</a> <a id="1573" href="Armor.Prelude.html#853" class="Function">ℤ</a>
<a id="1575" href="Armor.Data.X690-DER.Int.TCB.html#1543" class="Function">getVal</a> <a id="1582" class="Symbol">=</a> <a id="1584" href="Armor.Prelude.html#7158" class="Field">Singleton.x</a> <a id="1596" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1598" href="Armor.Data.X690-DER.Int.TCB.html#1353" class="Field">IntegerValue.val</a> <a id="1615" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1617" href="Armor.Data.X690-DER.TLV.TCB.html#686" class="Field">TLV.val</a>

<a id="RawIntegerValue"></a><a id="1626" href="Armor.Data.X690-DER.Int.TCB.html#1626" class="Function">RawIntegerValue</a> <a id="1642" class="Symbol">:</a> <a id="1644" href="Armor.Grammar.Definitions.NonMalleable.Base.html#125" class="Record">Raw</a> <a id="1648" href="Armor.Data.X690-DER.Int.TCB.html#1188" class="Record">IntegerValue</a>
<a id="1661" href="Armor.Grammar.Definitions.NonMalleable.Base.html#176" class="Field">Raw.D</a> <a id="1667" href="Armor.Data.X690-DER.Int.TCB.html#1626" class="Function">RawIntegerValue</a> <a id="1683" class="Symbol">=</a> <a id="1685" href="Armor.Prelude.html#853" class="Function">ℤ</a>
<a id="1687" href="Armor.Grammar.Definitions.NonMalleable.Base.html#188" class="Field">Raw.to</a> <a id="1694" href="Armor.Data.X690-DER.Int.TCB.html#1626" class="Function">RawIntegerValue</a> <a id="1710" class="Symbol">=</a> <a id="1712" href="Armor.Prelude.html#7183" class="Function Operator">↑_</a> <a id="1715" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1717" href="Armor.Data.X690-DER.Int.TCB.html#1353" class="Field">IntegerValue.val</a>

<a id="Raw[_]Int"></a><a id="1735" href="Armor.Data.X690-DER.Int.TCB.html#1735" class="Function Operator">Raw[_]Int</a> <a id="1745" class="Symbol">:</a> <a id="1747" class="Symbol">(</a><a id="1748" href="Armor.Data.X690-DER.Int.TCB.html#1748" class="Bound">t</a> <a id="1750" class="Symbol">:</a> <a id="1752" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a><a id="1757" class="Symbol">)</a> <a id="1759" class="Symbol">→</a> <a id="1761" href="Armor.Grammar.Definitions.NonMalleable.Base.html#125" class="Record">Raw</a> <a id="1765" href="Armor.Data.X690-DER.Int.TCB.html#1423" class="Function Operator">[</a> <a id="1767" href="Armor.Data.X690-DER.Int.TCB.html#1748" class="Bound">t</a> <a id="1769" href="Armor.Data.X690-DER.Int.TCB.html#1423" class="Function Operator">]Int</a>
<a id="1774" href="Armor.Data.X690-DER.Int.TCB.html#1735" class="Function Operator">Raw[</a> <a id="1779" href="Armor.Data.X690-DER.Int.TCB.html#1779" class="Bound">t</a> <a id="1781" href="Armor.Data.X690-DER.Int.TCB.html#1735" class="Function Operator">]Int</a> <a id="1786" class="Symbol">=</a> <a id="1788" href="Armor.Data.X690-DER.TLV.TCB.html#1272" class="Function">RawTLV</a> <a id="1795" href="Armor.Data.X690-DER.Int.TCB.html#1779" class="Bound">t</a> <a id="1797" href="Armor.Data.X690-DER.Int.TCB.html#1626" class="Function">RawIntegerValue</a>

<a id="RawInt"></a><a id="1814" href="Armor.Data.X690-DER.Int.TCB.html#1814" class="Function">RawInt</a> <a id="1821" class="Symbol">:</a> <a id="1823" href="Armor.Grammar.Definitions.NonMalleable.Base.html#125" class="Record">Raw</a> <a id="1827" href="Armor.Data.X690-DER.Int.TCB.html#1491" class="Function">Int</a>
<a id="1831" href="Armor.Data.X690-DER.Int.TCB.html#1814" class="Function">RawInt</a> <a id="1838" class="Symbol">=</a> <a id="1840" href="Armor.Data.X690-DER.Int.TCB.html#1735" class="Function Operator">Raw[</a> <a id="1845" class="Symbol">_</a> <a id="1847" href="Armor.Data.X690-DER.Int.TCB.html#1735" class="Function Operator">]Int</a>
</pre></body></html>