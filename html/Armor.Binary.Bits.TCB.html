<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Armor.Binary.Bits.TCB</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Armor.Arith.html" class="Module">Armor.Arith</a>
<a id="25" class="Keyword">open</a> <a id="30" class="Keyword">import</a> <a id="37" href="Armor.Prelude.html" class="Module">Armor.Prelude</a>
<a id="51" class="Keyword">open</a> <a id="56" class="Keyword">import</a> <a id="63" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="83" class="Symbol">as</a> <a id="86" class="Module">Nat</a>
  <a id="92" class="Keyword">hiding</a> <a id="99" class="Symbol">(</a><a id="100" href="Data.Nat.Properties.html#2528" class="Function Operator">_≟_</a><a id="103" class="Symbol">)</a>
<a id="105" class="Keyword">import</a>      <a id="117" href="Data.Vec.Properties.html" class="Module">Data.Vec.Properties</a> <a id="137" class="Symbol">as</a> <a id="140" class="Module">Vec</a>

<a id="145" class="Keyword">module</a> <a id="152" href="Armor.Binary.Bits.TCB.html" class="Module">Armor.Binary.Bits.TCB</a> <a id="174" class="Keyword">where</a>

<a id="Binary"></a><a id="181" href="Armor.Binary.Bits.TCB.html#181" class="Function">Binary</a> <a id="188" class="Symbol">=</a> <a id="190" href="Armor.Prelude.html#3207" class="Function">Vec</a> <a id="194" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>

<a id="200" class="Keyword">pattern</a> <a id="#0"></a><a id="208" href="Armor.Binary.Bits.TCB.html#208" class="InductiveConstructor">#0</a> <a id="211" class="Symbol">=</a> <a id="213" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
<a id="219" class="Keyword">pattern</a> <a id="#1"></a><a id="227" href="Armor.Binary.Bits.TCB.html#227" class="InductiveConstructor">#1</a> <a id="230" class="Symbol">=</a> <a id="232" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>

<a id="238" class="Keyword">module</a> <a id="ToBinary"></a><a id="245" href="Armor.Binary.Bits.TCB.html#245" class="Module">ToBinary</a> <a id="254" class="Keyword">where</a>
  <a id="ToBinary.aux"></a><a id="262" href="Armor.Binary.Bits.TCB.html#262" class="Function">aux</a> <a id="266" class="Symbol">:</a> <a id="268" class="Symbol">(</a><a id="269" href="Armor.Binary.Bits.TCB.html#269" class="Bound">n</a> <a id="271" class="Symbol">:</a> <a id="273" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="274" class="Symbol">)</a> <a id="276" class="Symbol">(</a><a id="277" href="Armor.Binary.Bits.TCB.html#277" class="Bound">i</a> <a id="279" class="Symbol">:</a> <a id="281" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="282" class="Symbol">)</a> <a id="284" class="Symbol">→</a> <a id="286" href="Armor.Binary.Bits.TCB.html#181" class="Function">Binary</a> <a id="293" href="Armor.Binary.Bits.TCB.html#269" class="Bound">n</a>
  <a id="297" href="Armor.Binary.Bits.TCB.html#262" class="Function">aux</a> <a id="301" class="Number">0</a> <a id="303" href="Armor.Binary.Bits.TCB.html#303" class="Bound">i</a> <a id="305" class="Symbol">=</a> <a id="307" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a>
  <a id="312" href="Armor.Binary.Bits.TCB.html#262" class="Function">aux</a> <a id="316" class="Symbol">(</a><a id="317" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="321" href="Armor.Binary.Bits.TCB.html#321" class="Bound">n</a><a id="322" class="Symbol">)</a> <a id="324" href="Armor.Binary.Bits.TCB.html#324" class="Bound">i</a>
    <a id="330" class="Keyword">with</a> <a id="335" href="Armor.Arith.html#136" class="Function">divmod2</a> <a id="343" href="Armor.Binary.Bits.TCB.html#324" class="Bound">i</a>
  <a id="347" class="Symbol">...</a> <a id="351" class="Symbol">|</a> <a id="353" href="Armor.Binary.Bits.TCB.html#353" class="Bound">q</a> <a id="355" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="357" href="Armor.Binary.Bits.TCB.html#357" class="Bound">r</a> <a id="359" class="Symbol">=</a> <a id="361" href="Armor.Binary.Bits.TCB.html#357" class="Bound">r</a> <a id="363" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="365" href="Armor.Binary.Bits.TCB.html#262" class="Function">aux</a> <a id="369" class="Bound">n</a> <a id="371" href="Armor.Binary.Bits.TCB.html#353" class="Bound">q</a>

  <a id="ToBinary.toBinary"></a><a id="376" href="Armor.Binary.Bits.TCB.html#376" class="Function">toBinary</a> <a id="385" class="Symbol">:</a> <a id="387" class="Symbol">∀</a> <a id="389" class="Symbol">{</a><a id="390" href="Armor.Binary.Bits.TCB.html#390" class="Bound">n</a><a id="391" class="Symbol">}</a> <a id="393" class="Symbol">→</a> <a id="395" href="Armor.Prelude.html#794" class="Function">Fin</a> <a id="399" class="Symbol">(</a><a id="400" class="Number">2</a> <a id="402" href="Data.Nat.Base.html#3471" class="Function Operator">^</a> <a id="404" href="Armor.Binary.Bits.TCB.html#390" class="Bound">n</a><a id="405" class="Symbol">)</a> <a id="407" class="Symbol">→</a> <a id="409" href="Armor.Binary.Bits.TCB.html#181" class="Function">Binary</a> <a id="416" href="Armor.Binary.Bits.TCB.html#390" class="Bound">n</a>
  <a id="420" href="Armor.Binary.Bits.TCB.html#376" class="Function">toBinary</a><a id="428" class="Symbol">{</a><a id="429" href="Armor.Binary.Bits.TCB.html#429" class="Bound">n</a><a id="430" class="Symbol">}</a> <a id="432" href="Armor.Binary.Bits.TCB.html#432" class="Bound">i</a> <a id="434" class="Symbol">=</a> <a id="436" href="Data.Vec.Base.html#7774" class="Function">Vec.reverse</a> <a id="448" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="450" href="Armor.Binary.Bits.TCB.html#262" class="Function">aux</a> <a id="454" href="Armor.Binary.Bits.TCB.html#429" class="Bound">n</a> <a id="456" class="Symbol">(</a><a id="457" href="Armor.Prelude.html#9194" class="Field">toℕ</a> <a id="461" href="Armor.Binary.Bits.TCB.html#432" class="Bound">i</a><a id="462" class="Symbol">)</a>

<a id="465" class="Keyword">open</a> <a id="470" href="Armor.Binary.Bits.TCB.html#245" class="Module">ToBinary</a> <a id="479" class="Keyword">public</a> <a id="486" class="Keyword">using</a> <a id="492" class="Symbol">(</a><a id="493" href="Armor.Binary.Bits.TCB.html#376" class="Function">toBinary</a><a id="501" class="Symbol">)</a>

<a id="504" class="Keyword">module</a> <a id="FromBinary"></a><a id="511" href="Armor.Binary.Bits.TCB.html#511" class="Module">FromBinary</a> <a id="522" class="Keyword">where</a>

  <a id="FromBinary.aux"></a><a id="531" href="Armor.Binary.Bits.TCB.html#531" class="Function">aux</a> <a id="535" class="Symbol">:</a> <a id="537" class="Symbol">∀</a> <a id="539" class="Symbol">{</a><a id="540" href="Armor.Binary.Bits.TCB.html#540" class="Bound">n</a><a id="541" class="Symbol">}</a> <a id="543" class="Symbol">→</a> <a id="545" href="Armor.Prelude.html#3207" class="Function">Vec</a> <a id="549" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="554" href="Armor.Binary.Bits.TCB.html#540" class="Bound">n</a> <a id="556" class="Symbol">→</a> <a id="558" href="Armor.Prelude.html#794" class="Function">Fin</a> <a id="562" class="Symbol">(</a><a id="563" class="Number">2</a> <a id="565" href="Data.Nat.Base.html#3471" class="Function Operator">^</a> <a id="567" href="Armor.Binary.Bits.TCB.html#540" class="Bound">n</a><a id="568" class="Symbol">)</a>
  <a id="572" href="Armor.Binary.Bits.TCB.html#531" class="Function">aux</a> <a id="576" class="Symbol">{</a><a id="577" class="DottedPattern Symbol">.</a><a id="578" class="DottedPattern Number">0</a><a id="579" class="Symbol">}</a> <a id="581" href="Data.Vec.Base.html#1034" class="InductiveConstructor">[]</a> <a id="584" class="Symbol">=</a> <a id="586" href="Data.Fin.Base.html#1148" class="InductiveConstructor">Fin.zero</a>
  <a id="597" href="Armor.Binary.Bits.TCB.html#531" class="Function">aux</a> <a id="601" class="Symbol">{</a><a id="602" href="Armor.Binary.Bits.TCB.html#602" class="Bound">n</a><a id="603" class="Symbol">@</a><a id="604" class="DottedPattern Symbol">.(</a><a id="606" href="Agda.Builtin.Nat.html#223" class="DottedPattern InductiveConstructor">suc</a> <a id="610" class="DottedPattern Symbol">_)</a><a id="612" class="Symbol">}</a> <a id="614" class="Symbol">(</a><a id="615" href="Armor.Binary.Bits.TCB.html#208" class="InductiveConstructor">#0</a> <a id="618" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="620" href="Armor.Binary.Bits.TCB.html#620" class="Bound">bits</a><a id="624" class="Symbol">)</a> <a id="626" class="Symbol">=</a>
    <a id="632" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a> <a id="638" href="Armor.Prelude.html#794" class="Function">Fin</a> <a id="642" class="Symbol">(</a><a id="643" href="Data.Nat.Properties.html#49883" class="Function">suc[pred[n]]≡n</a> <a id="658" class="Symbol">{</a><a id="659" class="Number">2</a> <a id="661" href="Data.Nat.Base.html#3471" class="Function Operator">^</a> <a id="663" href="Armor.Binary.Bits.TCB.html#602" class="Bound">n</a><a id="664" class="Symbol">}</a> <a id="666" class="Symbol">(</a><a id="667" href="Armor.Arith.html#760" class="Function">2^n≢0</a> <a id="673" href="Armor.Binary.Bits.TCB.html#602" class="Bound">n</a><a id="674" class="Symbol">))</a> <a id="677" class="Symbol">(</a><a id="678" href="Data.Fin.Base.html#3021" class="Function">Fin.inject₁</a> <a id="690" class="Symbol">(</a><a id="691" href="Armor.Prelude.html#559" class="Function Operator">Fin.2*</a> <a id="698" class="Symbol">(</a><a id="699" href="Armor.Binary.Bits.TCB.html#531" class="Function">aux</a> <a id="703" href="Armor.Binary.Bits.TCB.html#620" class="Bound">bits</a><a id="707" class="Symbol">)))</a>
  <a id="713" href="Armor.Binary.Bits.TCB.html#531" class="Function">aux</a> <a id="717" class="Symbol">{</a><a id="718" href="Armor.Binary.Bits.TCB.html#718" class="Bound">n</a><a id="719" class="Symbol">@</a><a id="720" class="DottedPattern Symbol">.(</a><a id="722" href="Agda.Builtin.Nat.html#223" class="DottedPattern InductiveConstructor">suc</a> <a id="726" class="DottedPattern Symbol">_)</a><a id="728" class="Symbol">}</a> <a id="730" class="Symbol">(</a><a id="731" href="Armor.Binary.Bits.TCB.html#227" class="InductiveConstructor">#1</a> <a id="734" href="Data.Vec.Base.html#1053" class="InductiveConstructor Operator">∷</a> <a id="736" href="Armor.Binary.Bits.TCB.html#736" class="Bound">bits</a><a id="740" class="Symbol">)</a> <a id="742" class="Symbol">=</a>
    <a id="748" href="Relation.Binary.PropositionalEquality.Core.html#1780" class="Function">subst</a> <a id="754" href="Armor.Prelude.html#794" class="Function">Fin</a> <a id="758" class="Symbol">(</a><a id="759" href="Data.Nat.Properties.html#49883" class="Function">suc[pred[n]]≡n</a><a id="773" class="Symbol">{</a><a id="774" class="Number">2</a> <a id="776" href="Data.Nat.Base.html#3471" class="Function Operator">^</a> <a id="778" href="Armor.Binary.Bits.TCB.html#718" class="Bound">n</a><a id="779" class="Symbol">}</a> <a id="781" class="Symbol">(</a><a id="782" href="Armor.Arith.html#760" class="Function">2^n≢0</a> <a id="788" href="Armor.Binary.Bits.TCB.html#718" class="Bound">n</a><a id="789" class="Symbol">))</a> <a id="792" class="Symbol">(</a><a id="793" href="Data.Fin.Base.html#1867" class="Function">Fin.fromℕ</a> <a id="803" class="Number">1</a> <a id="805" href="Data.Fin.Base.html#5404" class="Function Operator">Fin.+</a> <a id="811" class="Symbol">(</a><a id="812" href="Armor.Prelude.html#559" class="Function Operator">Fin.2*</a> <a id="819" class="Symbol">(</a><a id="820" href="Armor.Binary.Bits.TCB.html#531" class="Function">aux</a> <a id="824" href="Armor.Binary.Bits.TCB.html#736" class="Bound">bits</a><a id="828" class="Symbol">)))</a>

  <a id="FromBinary.fromBinary"></a><a id="835" href="Armor.Binary.Bits.TCB.html#835" class="Function">fromBinary</a> <a id="846" class="Symbol">:</a> <a id="848" class="Symbol">∀</a> <a id="850" class="Symbol">{</a><a id="851" href="Armor.Binary.Bits.TCB.html#851" class="Bound">n</a><a id="852" class="Symbol">}</a> <a id="854" class="Symbol">→</a> <a id="856" href="Armor.Binary.Bits.TCB.html#181" class="Function">Binary</a> <a id="863" href="Armor.Binary.Bits.TCB.html#851" class="Bound">n</a> <a id="865" class="Symbol">→</a> <a id="867" href="Armor.Prelude.html#794" class="Function">Fin</a> <a id="871" class="Symbol">(</a><a id="872" class="Number">2</a> <a id="874" href="Data.Nat.Base.html#3471" class="Function Operator">^</a> <a id="876" href="Armor.Binary.Bits.TCB.html#851" class="Bound">n</a><a id="877" class="Symbol">)</a>
  <a id="881" href="Armor.Binary.Bits.TCB.html#835" class="Function">fromBinary</a> <a id="892" href="Armor.Binary.Bits.TCB.html#892" class="Bound">bits</a> <a id="897" class="Symbol">=</a> <a id="899" href="Armor.Binary.Bits.TCB.html#531" class="Function">aux</a> <a id="903" class="Symbol">(</a><a id="904" href="Data.Vec.Base.html#7774" class="Function">Vec.reverse</a> <a id="916" href="Armor.Binary.Bits.TCB.html#892" class="Bound">bits</a><a id="920" class="Symbol">)</a>

<a id="923" class="Keyword">open</a> <a id="928" href="Armor.Binary.Bits.TCB.html#511" class="Module">FromBinary</a> <a id="939" class="Keyword">public</a> <a id="946" class="Keyword">using</a> <a id="952" class="Symbol">(</a><a id="953" href="Armor.Binary.Bits.TCB.html#835" class="Function">fromBinary</a><a id="963" class="Symbol">)</a>

</pre></body></html>