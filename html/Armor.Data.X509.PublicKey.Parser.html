<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Armor.Data.X509.PublicKey.Parser</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Armor.Binary.html" class="Module">Armor.Binary</a>
<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Armor.Data.X509.PublicKey.Alg.html" class="Module">Armor.Data.X509.PublicKey.Alg</a>
<a id="68" class="Keyword">open</a> <a id="73" class="Keyword">import</a> <a id="80" href="Armor.Data.X509.PublicKey.Properties.html" class="Module">Armor.Data.X509.PublicKey.Properties</a>
<a id="117" class="Keyword">open</a> <a id="122" class="Keyword">import</a> <a id="129" href="Armor.Data.X509.PublicKey.TCB.html" class="Module">Armor.Data.X509.PublicKey.TCB</a>
<a id="159" class="Keyword">open</a> <a id="164" class="Keyword">import</a> <a id="171" href="Armor.Data.X509.PublicKey.Val.html" class="Module">Armor.Data.X509.PublicKey.Val</a>
<a id="201" class="Keyword">open</a> <a id="206" class="Keyword">import</a> <a id="213" href="Armor.Data.X690-DER.TLV.html" class="Module">Armor.Data.X690-DER.TLV</a>
<a id="237" class="Keyword">import</a>      <a id="249" href="Armor.Grammar.Definitions.html" class="Module">Armor.Grammar.Definitions</a>
<a id="275" class="Keyword">import</a>      <a id="287" href="Armor.Grammar.Parallel.html" class="Module">Armor.Grammar.Parallel</a>
<a id="310" class="Keyword">import</a>      <a id="322" href="Armor.Grammar.Parser.html" class="Module">Armor.Grammar.Parser</a>
<a id="343" class="Keyword">import</a>      <a id="355" href="Armor.Grammar.Properties.html" class="Module">Armor.Grammar.Properties</a>
<a id="380" class="Keyword">import</a>      <a id="392" href="Armor.Grammar.Seq.html" class="Module">Armor.Grammar.Seq</a>
<a id="410" class="Keyword">open</a> <a id="415" class="Keyword">import</a> <a id="422" href="Armor.Prelude.html" class="Module">Armor.Prelude</a>

<a id="437" class="Keyword">module</a> <a id="444" href="Armor.Data.X509.PublicKey.Parser.html" class="Module">Armor.Data.X509.PublicKey.Parser</a> <a id="477" class="Keyword">where</a>

<a id="484" class="Keyword">open</a> <a id="489" href="Armor.Grammar.Definitions.html" class="Module">Armor.Grammar.Definitions</a> <a id="515" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
<a id="521" class="Keyword">open</a> <a id="526" href="Armor.Grammar.Parallel.html" class="Module">Armor.Grammar.Parallel</a>    <a id="552" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
<a id="558" class="Keyword">open</a> <a id="563" href="Armor.Grammar.Parser.html" class="Module">Armor.Grammar.Parser</a>      <a id="589" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
<a id="595" class="Keyword">open</a> <a id="600" href="Armor.Grammar.Properties.html" class="Module">Armor.Grammar.Properties</a>  <a id="626" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
<a id="632" class="Keyword">open</a> <a id="637" href="Armor.Grammar.Seq.html" class="Module">Armor.Grammar.Seq</a>         <a id="663" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>

<a id="670" class="Keyword">private</a>
  <a id="here&#39;"></a><a id="680" href="Armor.Data.X509.PublicKey.Parser.html#680" class="Function">here&#39;</a> <a id="686" class="Symbol">=</a> <a id="688" class="String">&quot;X509: PublicKey&quot;</a>

<a id="parseFields"></a><a id="707" href="Armor.Data.X509.PublicKey.Parser.html#707" class="Function">parseFields</a> <a id="719" class="Symbol">:</a> <a id="721" class="Symbol">∀</a> <a id="723" href="Armor.Data.X509.PublicKey.Parser.html#723" class="Bound">n</a> <a id="725" class="Symbol">→</a> <a id="727" href="Armor.Grammar.Parser.Core.html#844" class="Function">Parser</a> <a id="734" class="Symbol">(</a><a id="735" href="Armor.Prelude.html#14201" class="Record">Logging</a> <a id="743" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="745" href="Relation.Nullary.html#1511" class="Record">Dec</a><a id="748" class="Symbol">)</a> <a id="750" class="Symbol">(</a><a id="751" href="Armor.Grammar.Parallel.TCB.html#1532" class="Function">ExactLength</a> <a id="763" href="Armor.Data.X509.PublicKey.TCB.html#888" class="Record">PublicKeyFields</a> <a id="779" href="Armor.Data.X509.PublicKey.Parser.html#723" class="Bound">n</a><a id="780" class="Symbol">)</a>
<a id="782" href="Armor.Data.X509.PublicKey.Parser.html#707" class="Function">parseFields</a> <a id="794" href="Armor.Data.X509.PublicKey.Parser.html#794" class="Bound">n</a> <a id="796" class="Symbol">=</a>
  <a id="800" href="Armor.Grammar.Parser.Core.html#977" class="Function">parseEquivalent</a> <a id="816" href="Armor.Data.X509.PublicKey.Parser.html#988" class="Function">eq</a> <a id="819" href="Armor.Data.X509.PublicKey.Parser.html#1158" class="Function">p₁</a>
  <a id="824" class="Keyword">where</a>
  <a id="832" href="Armor.Data.X509.PublicKey.Parser.html#832" class="Function">A</a> <a id="834" class="Symbol">=</a> <a id="836" href="Armor.Grammar.Parallel.TCB.html#1288" class="Function">Length≤</a> <a id="844" href="Armor.Data.X509.PublicKey.Alg.TCB.html#1955" class="Function">PublicKeyAlg</a> <a id="857" href="Armor.Data.X509.PublicKey.Parser.html#794" class="Bound">n</a>
  <a id="861" href="Armor.Data.X509.PublicKey.Parser.html#861" class="Function">B</a> <a id="863" class="Symbol">:</a> <a id="865" class="Symbol">{@</a><a id="867" class="Symbol">0</a> <a id="869" href="Armor.Data.X509.PublicKey.Parser.html#869" class="Bound">bs</a> <a id="872" class="Symbol">:</a> <a id="874" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="879" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a><a id="884" class="Symbol">}</a> <a id="886" class="Symbol">→</a> <a id="888" class="Symbol">(</a><a id="889" href="Armor.Data.X509.PublicKey.Parser.html#889" class="Bound">a</a> <a id="891" class="Symbol">:</a> <a id="893" href="Armor.Data.X509.PublicKey.Parser.html#832" class="Function">A</a> <a id="895" href="Armor.Data.X509.PublicKey.Parser.html#869" class="Bound">bs</a><a id="897" class="Symbol">)</a> <a id="899" class="Symbol">→</a> <a id="901" class="Symbol">@</a><a id="902" class="Symbol">0</a> <a id="904" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="909" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a> <a id="915" class="Symbol">→</a> <a id="917" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="923" href="Armor.Data.X509.PublicKey.Parser.html#861" class="Function">B</a><a id="924" class="Symbol">{</a><a id="925" href="Armor.Data.X509.PublicKey.Parser.html#925" class="Bound">bs</a><a id="927" class="Symbol">}</a> <a id="929" href="Armor.Data.X509.PublicKey.Parser.html#929" class="Bound">a</a> <a id="931" class="Symbol">=</a> <a id="933" href="Armor.Grammar.Parallel.TCB.html#1532" class="Function">ExactLength</a> <a id="945" class="Symbol">(</a><a id="946" href="Armor.Data.X509.PublicKey.Val.TCB.html#903" class="Function">PublicKeyVal</a> <a id="959" class="Symbol">(</a><a id="960" href="Armor.Grammar.Parallel.TCB.html#351" class="Field">fstₚ</a> <a id="965" href="Armor.Data.X509.PublicKey.Parser.html#929" class="Bound">a</a><a id="966" class="Symbol">))</a> <a id="969" class="Symbol">(</a><a id="970" href="Armor.Data.X509.PublicKey.Parser.html#794" class="Bound">n</a> <a id="972" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="974" href="Data.List.Base.html#4864" class="Function">length</a> <a id="981" href="Armor.Data.X509.PublicKey.Parser.html#925" class="Bound">bs</a><a id="983" class="Symbol">)</a>

  <a id="988" href="Armor.Data.X509.PublicKey.Parser.html#988" class="Function">eq</a> <a id="991" class="Symbol">:</a> <a id="993" href="Armor.Grammar.Definitions.Iso.Base.html#87" class="Function">Equivalent</a> <a id="1004" class="Symbol">(</a><a id="1005" href="Armor.Grammar.Seq.TCB.html#211" class="Record">&amp;ₚᵈ</a> <a id="1009" href="Armor.Data.X509.PublicKey.Parser.html#832" class="Function">A</a> <a id="1011" href="Armor.Data.X509.PublicKey.Parser.html#861" class="Function">B</a><a id="1012" class="Symbol">)</a> <a id="1014" class="Symbol">(</a><a id="1015" href="Armor.Grammar.Parallel.TCB.html#1532" class="Function">ExactLength</a> <a id="1027" href="Armor.Data.X509.PublicKey.TCB.html#888" class="Record">PublicKeyFields</a> <a id="1043" href="Armor.Data.X509.PublicKey.Parser.html#794" class="Bound">n</a><a id="1044" class="Symbol">)</a>
  <a id="1048" href="Armor.Data.X509.PublicKey.Parser.html#988" class="Function">eq</a> <a id="1051" class="Symbol">=</a> <a id="1053" href="Armor.Grammar.Definitions.Iso.Properties.html#801" class="Function">Iso.transEquivalent</a> <a id="1073" class="Symbol">(</a><a id="1074" href="Armor.Grammar.Definitions.Iso.Properties.html#704" class="Function">Iso.symEquivalent</a> <a id="1092" class="Symbol">(</a><a id="1093" href="Armor.Grammar.Properties.html#2510" class="Function">Distribute.exactLength-&amp;ᵈ</a><a id="1118" class="Symbol">))</a> <a id="1121" class="Symbol">(</a><a id="1122" href="Armor.Grammar.Parallel.Properties.html#993" class="Function">Parallel.equivalent₁</a> <a id="1143" href="Armor.Data.X509.PublicKey.TCB.html#1176" class="Function">equivalent</a><a id="1153" class="Symbol">)</a>

  <a id="1158" href="Armor.Data.X509.PublicKey.Parser.html#1158" class="Function">p₁</a> <a id="1161" class="Symbol">:</a> <a id="1163" href="Armor.Grammar.Parser.Core.html#844" class="Function">Parser</a> <a id="1170" class="Symbol">(</a><a id="1171" href="Armor.Prelude.html#14201" class="Record">Logging</a> <a id="1179" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1181" href="Relation.Nullary.html#1511" class="Record">Dec</a><a id="1184" class="Symbol">)</a> <a id="1186" class="Symbol">(</a><a id="1187" href="Armor.Grammar.Seq.TCB.html#211" class="Record">&amp;ₚᵈ</a> <a id="1191" href="Armor.Data.X509.PublicKey.Parser.html#832" class="Function">A</a> <a id="1193" href="Armor.Data.X509.PublicKey.Parser.html#861" class="Function">B</a><a id="1194" class="Symbol">)</a>
  <a id="1198" href="Armor.Data.X509.PublicKey.Parser.html#1158" class="Function">p₁</a> <a id="1201" class="Symbol">=</a>
    <a id="1207" href="Armor.Grammar.Seq.Parser.html#2549" class="Function">parse&amp;ᵈ</a>
      <a id="1221" class="Symbol">(</a><a id="1222" href="Armor.Grammar.Parallel.Properties.html#1726" class="Function">Parallel.nosubstrings₁</a> <a id="1245" href="Armor.Data.X690-DER.TLV.Properties.html#592" class="Function">TLV.nosubstrings</a><a id="1261" class="Symbol">)</a>
      <a id="1269" class="Symbol">(</a><a id="1270" href="Armor.Grammar.Parallel.Properties.html#5095" class="Function">Parallel.Length≤.unambiguous</a> <a id="1299" href="Armor.Data.X509.PublicKey.Alg.TCB.html#1955" class="Function">PublicKeyAlg</a> <a id="1312" href="Armor.Data.X509.PublicKey.Alg.Properties.html#973" class="Function">Alg.unambiguous</a><a id="1327" class="Symbol">)</a>
      <a id="1335" class="Symbol">(</a><a id="1336" href="Armor.Grammar.Parallel.Parser.html#4826" class="Function">parse≤</a> <a id="1343" href="Armor.Data.X509.PublicKey.Parser.html#794" class="Bound">n</a> <a id="1345" href="Armor.Data.X509.PublicKey.Alg.Parser.html#1388" class="Function">Alg.parse</a> <a id="1355" href="Armor.Data.X690-DER.TLV.Properties.html#592" class="Function">TLV.nosubstrings</a>
        <a id="1380" class="Symbol">(</a><a id="1381" href="Armor.Prelude.html#14135" class="Field">tell</a> <a id="1386" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="1388" href="Armor.Data.X509.PublicKey.Parser.html#680" class="Function">here&#39;</a> <a id="1394" href="Data.String.Base.html#2366" class="Function Operator">String.++</a> <a id="1404" class="String">&quot; (alg): overflow&quot;</a><a id="1422" class="Symbol">))</a>
      <a id="1431" class="Symbol">λ</a> <a id="1433" class="Keyword">where</a>
        <a id="1447" class="Symbol">(</a><a id="1448" href="Armor.Prelude.html#7136" class="InductiveConstructor">singleton</a> <a id="1458" href="Armor.Data.X509.PublicKey.Parser.html#1458" class="Bound">r</a> <a id="1460" href="Armor.Data.X509.PublicKey.Parser.html#1460" class="Bound">r≡</a><a id="1462" class="Symbol">)</a> <a id="1464" href="Armor.Data.X509.PublicKey.Parser.html#1464" class="Bound">a</a> <a id="1466" class="Symbol">→</a>
          <a id="1478" href="Armor.Prelude.html#4511" class="Function">subst₀</a> <a id="1485" class="Symbol">(λ</a> <a id="1488" href="Armor.Data.X509.PublicKey.Parser.html#1488" class="Bound">x</a> <a id="1490" class="Symbol">→</a> <a id="1492" href="Armor.Grammar.Parser.Core.html#844" class="Function">Parser</a> <a id="1499" class="Symbol">(</a><a id="1500" href="Armor.Prelude.html#14201" class="Record">Logging</a> <a id="1508" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1510" href="Relation.Nullary.html#1511" class="Record">Dec</a><a id="1513" class="Symbol">)</a> <a id="1515" class="Symbol">(</a><a id="1516" href="Armor.Grammar.Parallel.TCB.html#1532" class="Function">ExactLength</a> <a id="1528" class="Symbol">(</a><a id="1529" href="Armor.Data.X509.PublicKey.Val.TCB.html#903" class="Function">PublicKeyVal</a> <a id="1542" class="Symbol">(</a><a id="1543" href="Armor.Grammar.Parallel.TCB.html#351" class="Field">fstₚ</a> <a id="1548" href="Armor.Data.X509.PublicKey.Parser.html#1464" class="Bound">a</a><a id="1549" class="Symbol">))</a> <a id="1552" class="Symbol">(</a><a id="1553" href="Armor.Data.X509.PublicKey.Parser.html#794" class="Bound">n</a> <a id="1555" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="1557" href="Armor.Data.X509.PublicKey.Parser.html#1488" class="Bound">x</a><a id="1558" class="Symbol">)))</a>
            <a id="1574" href="Armor.Data.X509.PublicKey.Parser.html#1460" class="Bound">r≡</a>
            <a id="1589" class="Symbol">(</a><a id="1590" href="Armor.Grammar.Parallel.Parser.html#3682" class="Function">parseExactLength</a>
              <a id="1621" class="Symbol">(</a><a id="1622" href="Armor.Data.X509.PublicKey.Val.Properties.html#644" class="Function">Val.nosubstrings</a> <a id="1639" class="Symbol">(</a><a id="1640" href="Armor.Grammar.Parallel.TCB.html#351" class="Field">fstₚ</a> <a id="1645" href="Armor.Data.X509.PublicKey.Parser.html#1464" class="Bound">a</a><a id="1646" class="Symbol">))</a>
              <a id="1663" class="Symbol">(</a><a id="1664" href="Armor.Prelude.html#14135" class="Field">tell</a> <a id="1669" href="Function.Base.html#1919" class="Function Operator">$</a> <a id="1671" href="Armor.Data.X509.PublicKey.Parser.html#680" class="Function">here&#39;</a> <a id="1677" href="Data.String.Base.html#2366" class="Function Operator">String.++</a> <a id="1687" class="String">&quot; (val): length mismatch&quot;</a><a id="1712" class="Symbol">)</a>
              <a id="1728" class="Symbol">(</a><a id="1729" href="Armor.Data.X509.PublicKey.Val.Parser.html#526" class="Function">Val.parse</a> <a id="1739" class="Symbol">(</a><a id="1740" href="Armor.Grammar.Parallel.TCB.html#351" class="Field">fstₚ</a> <a id="1745" href="Armor.Data.X509.PublicKey.Parser.html#1464" class="Bound">a</a><a id="1746" class="Symbol">))</a> <a id="1749" class="Symbol">(</a><a id="1750" href="Armor.Data.X509.PublicKey.Parser.html#794" class="Bound">n</a> <a id="1752" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="1754" href="Armor.Data.X509.PublicKey.Parser.html#1458" class="Bound">r</a><a id="1755" class="Symbol">))</a>

<a id="parse"></a><a id="1759" href="Armor.Data.X509.PublicKey.Parser.html#1759" class="Function">parse</a> <a id="1765" class="Symbol">:</a> <a id="1767" href="Armor.Grammar.Parser.Core.html#844" class="Function">Parser</a> <a id="1774" class="Symbol">(</a><a id="1775" href="Armor.Prelude.html#14201" class="Record">Logging</a> <a id="1783" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1785" href="Relation.Nullary.html#1511" class="Record">Dec</a><a id="1788" class="Symbol">)</a> <a id="1790" href="Armor.Data.X509.PublicKey.TCB.html#1597" class="Function">PublicKey</a>
<a id="1800" href="Armor.Data.X509.PublicKey.Parser.html#1759" class="Function">parse</a> <a id="1806" class="Symbol">=</a> <a id="1808" href="Armor.Data.X690-DER.TLV.Parser.html#788" class="Function">parseTLV</a> <a id="1817" class="Symbol">_</a> <a id="1819" href="Armor.Data.X509.PublicKey.Parser.html#680" class="Function">here&#39;</a> <a id="1825" class="Symbol">_</a> <a id="1827" href="Armor.Data.X509.PublicKey.Parser.html#707" class="Function">parseFields</a>
</pre></body></html>