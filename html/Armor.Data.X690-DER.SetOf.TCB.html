<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Armor.Data.X690-DER.SetOf.TCB</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Armor.Binary.html" class="Module">Armor.Binary</a>
<a id="26" class="Keyword">open</a> <a id="31" class="Keyword">import</a> <a id="38" href="Armor.Data.X690-DER.SequenceOf.TCB.html" class="Module">Armor.Data.X690-DER.SequenceOf.TCB</a>
<a id="73" class="Keyword">open</a> <a id="78" class="Keyword">import</a> <a id="85" href="Armor.Data.X690-DER.SetOf.Order.TCB.html" class="Module">Armor.Data.X690-DER.SetOf.Order.TCB</a>
<a id="121" class="Keyword">open</a> <a id="126" class="Keyword">import</a> <a id="133" href="Armor.Data.X690-DER.TLV.TCB.html" class="Module">Armor.Data.X690-DER.TLV.TCB</a>
<a id="161" class="Keyword">import</a>      <a id="173" href="Armor.Data.X690-DER.Tag.html" class="Module">Armor.Data.X690-DER.Tag</a> <a id="197" class="Symbol">as</a> <a id="200" class="Module">Tag</a>
<a id="204" class="Keyword">import</a>      <a id="216" href="Armor.Grammar.Definitions.NonMalleable.html" class="Module">Armor.Grammar.Definitions.NonMalleable</a>
<a id="255" class="Keyword">import</a>      <a id="267" href="Armor.Grammar.IList.TCB.html" class="Module">Armor.Grammar.IList.TCB</a>
<a id="291" class="Keyword">import</a>      <a id="303" href="Armor.Grammar.Parallel.TCB.html" class="Module">Armor.Grammar.Parallel.TCB</a>
<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Armor.Prelude.html" class="Module">Armor.Prelude</a>
  <a id="358" class="Keyword">hiding</a> <a id="365" class="Symbol">(</a><a id="366" href="Data.List.Base.html#4864" class="Function">length</a><a id="372" class="Symbol">)</a>
<a id="374" class="Keyword">import</a>      <a id="386" href="Data.List.Relation.Unary.Sorted.TotalOrder.html" class="Module">Data.List.Relation.Unary.Sorted.TotalOrder</a>

<a id="430" class="Keyword">module</a> <a id="437" href="Armor.Data.X690-DER.SetOf.TCB.html" class="Module">Armor.Data.X690-DER.SetOf.TCB</a> <a id="467" class="Keyword">where</a>

<a id="474" class="Keyword">open</a> <a id="479" href="Armor.Grammar.Definitions.NonMalleable.html" class="Module">Armor.Grammar.Definitions.NonMalleable</a> <a id="518" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
<a id="524" class="Keyword">open</a> <a id="529" href="Armor.Grammar.IList.TCB.html" class="Module">Armor.Grammar.IList.TCB</a>                <a id="568" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>
<a id="574" class="Keyword">open</a> <a id="579" href="Armor.Grammar.Parallel.TCB.html" class="Module">Armor.Grammar.Parallel.TCB</a>             <a id="618" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a>

<a id="625" class="Comment">-- https://www.itu.int/rec/T-REC-X.690-202102-I/en</a>
<a id="676" class="Comment">-- 8.12.1 The encoding of a set-of value shall be constructed.</a>
<a id="739" class="Comment">-- 8.12.2 The text of 8.10.2 applies.</a>
<a id="777" class="Comment">-- 8.12.3 The order of data values need not be preserved by the encoding and subsequent decoding.</a>

<a id="876" class="Comment">-- 11.6 Set-of components</a>
<a id="902" class="Comment">-- The encodings of the component values of a set-of value shall appear in ascending order, the encodings being compared as</a>
<a id="1026" class="Comment">-- octet strings with the shorter components being padded at their trailing end with 0-octets.</a>
<a id="1121" class="Comment">-- NOTE – The padding octets are for comparison purposes only and do not appear in the encodings.</a>

<a id="1220" class="Keyword">record</a> <a id="SetOfFields"></a><a id="1227" href="Armor.Data.X690-DER.SetOf.TCB.html#1227" class="Record">SetOfFields</a> <a id="1239" class="Symbol">(</a><a id="1240" href="Armor.Data.X690-DER.SetOf.TCB.html#1240" class="Bound">A</a> <a id="1242" class="Symbol">:</a> <a id="1244" class="Symbol">@</a><a id="1245" class="Symbol">0</a> <a id="1247" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1252" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a> <a id="1258" class="Symbol">→</a> <a id="1260" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="1263" class="Symbol">)</a> <a id="1265" class="Symbol">(@</a><a id="1267" class="Symbol">0</a> <a id="1269" href="Armor.Data.X690-DER.SetOf.TCB.html#1269" class="Bound">bs</a> <a id="1272" class="Symbol">:</a> <a id="1274" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1279" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a><a id="1284" class="Symbol">)</a> <a id="1286" class="Symbol">:</a> <a id="1288" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1292" class="Keyword">where</a>
  <a id="1300" class="Keyword">constructor</a> <a id="mkSetOfFields"></a><a id="1312" href="Armor.Data.X690-DER.SetOf.TCB.html#1312" class="InductiveConstructor">mkSetOfFields</a>
  <a id="1328" class="Keyword">field</a>
    <a id="SetOfFields.elems"></a><a id="1338" href="Armor.Data.X690-DER.SetOf.TCB.html#1338" class="Field">elems</a> <a id="1344" class="Symbol">:</a> <a id="1346" href="Armor.Data.X690-DER.SequenceOf.TCB.html#1176" class="Function">NonEmptySequenceOf</a> <a id="1365" href="Armor.Data.X690-DER.SetOf.TCB.html#1240" class="Bound">A</a> <a id="1367" href="Armor.Data.X690-DER.SetOf.TCB.html#1269" class="Bound">bs</a>

  <a id="1373" class="Keyword">open</a> <a id="1378" href="Data.List.Relation.Unary.Sorted.TotalOrder.html" class="Module">Data.List.Relation.Unary.Sorted.TotalOrder</a> <a id="1421" href="Armor.Data.X690-DER.SetOf.Order.TCB.html#5652" class="Function">bytesTotalOrder</a>
  <a id="1439" class="Symbol">@</a><a id="1440" class="Symbol">0</a> <a id="SetOfFields.orderingList"></a><a id="1442" href="Armor.Data.X690-DER.SetOf.TCB.html#1442" class="Function">orderingList</a> <a id="1455" class="Symbol">:</a> <a id="1457" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1462" class="Symbol">(</a><a id="1463" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1468" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a><a id="1473" class="Symbol">)</a>
  <a id="1477" href="Armor.Data.X690-DER.SetOf.TCB.html#1442" class="Function">orderingList</a> <a id="1490" class="Symbol">=</a> <a id="1492" href="Armor.Prelude.html#8599" class="Function">liftMapErase</a><a id="1504" class="Symbol">{</a><a id="1505" class="Argument">A</a> <a id="1507" class="Symbol">=</a> <a id="1509" href="Armor.Prelude.html#8763" class="Function">Exists─</a> <a id="1517" class="Symbol">_</a> <a id="1519" href="Armor.Data.X690-DER.SetOf.TCB.html#1240" class="Bound">A</a><a id="1520" class="Symbol">}</a> <a id="1522" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="1528" class="Symbol">(</a><a id="1529" href="Armor.Grammar.IList.TCB.html#986" class="Function">toList</a> <a id="1536" class="Symbol">(</a><a id="1537" href="Armor.Grammar.Parallel.TCB.html#351" class="Field">fstₚ</a> <a id="1542" href="Armor.Data.X690-DER.SetOf.TCB.html#1338" class="Field">elems</a><a id="1547" class="Symbol">))</a>

  <a id="1553" class="Keyword">field</a>
    <a id="1563" class="Symbol">@</a><a id="1564" class="Symbol">0</a> <a id="SetOfFields.order"></a><a id="1566" href="Armor.Data.X690-DER.SetOf.TCB.html#1566" class="Field">order</a> <a id="1572" class="Symbol">:</a> <a id="1574" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="1579" class="Symbol">(</a><a id="1580" href="Data.List.Relation.Unary.Sorted.TotalOrder.html#1166" class="Function">sorted?</a> <a id="1588" href="Armor.Data.X690-DER.SetOf.Order.TCB.html#3915" class="Function Operator">_≲?_</a> <a id="1593" href="Armor.Data.X690-DER.SetOf.TCB.html#1442" class="Function">orderingList</a><a id="1605" class="Symbol">)</a>

  <a id="SetOfFields.toSequenceOf"></a><a id="1610" href="Armor.Data.X690-DER.SetOf.TCB.html#1610" class="Function">toSequenceOf</a> <a id="1623" class="Symbol">:</a> <a id="1625" href="Armor.Data.X690-DER.SequenceOf.TCB.html#906" class="Function">SequenceOf</a> <a id="1636" href="Armor.Data.X690-DER.SetOf.TCB.html#1240" class="Bound">A</a> <a id="1638" href="Armor.Data.X690-DER.SetOf.TCB.html#1269" class="Bound">bs</a>
  <a id="1643" href="Armor.Data.X690-DER.SetOf.TCB.html#1610" class="Function">toSequenceOf</a> <a id="1656" class="Symbol">=</a> <a id="1658" href="Armor.Grammar.Parallel.TCB.html#351" class="Field">fstₚ</a> <a id="1663" href="Armor.Data.X690-DER.SetOf.TCB.html#1338" class="Field">elems</a>

  <a id="SetOfFields.length"></a><a id="1672" href="Armor.Data.X690-DER.SetOf.TCB.html#1672" class="Function">length</a> <a id="1679" class="Symbol">:</a> <a id="1681" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="1685" href="Armor.Data.X690-DER.SetOf.TCB.html#1672" class="Function">length</a> <a id="1692" class="Symbol">=</a> <a id="1694" href="Armor.Data.X690-DER.SequenceOf.TCB.html#960" class="Function">lengthSequence</a> <a id="1709" href="Armor.Data.X690-DER.SetOf.TCB.html#1610" class="Function">toSequenceOf</a>

<a id="SetOf"></a><a id="1723" href="Armor.Data.X690-DER.SetOf.TCB.html#1723" class="Function">SetOf</a> <a id="1729" class="Symbol">:</a> <a id="1731" class="Symbol">(</a><a id="1732" href="Armor.Data.X690-DER.SetOf.TCB.html#1732" class="Bound">A</a> <a id="1734" class="Symbol">:</a> <a id="1736" class="Symbol">@</a><a id="1737" class="Symbol">0</a> <a id="1739" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1744" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a> <a id="1750" class="Symbol">→</a> <a id="1752" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="1755" class="Symbol">)</a> <a id="1757" class="Symbol">→</a> <a id="1759" class="Symbol">@</a><a id="1760" class="Symbol">0</a> <a id="1762" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1767" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a> <a id="1773" class="Symbol">→</a> <a id="1775" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1779" href="Armor.Data.X690-DER.SetOf.TCB.html#1723" class="Function">SetOf</a> <a id="1785" href="Armor.Data.X690-DER.SetOf.TCB.html#1785" class="Bound">A</a> <a id="1787" class="Symbol">=</a> <a id="1789" href="Armor.Data.X690-DER.TLV.TCB.html#534" class="Record">TLV</a> <a id="1793" href="Armor.Data.X690-DER.Tag.html#810" class="Function">Tag.Sett</a> <a id="1802" class="Symbol">(</a><a id="1803" href="Armor.Data.X690-DER.SetOf.TCB.html#1227" class="Record">SetOfFields</a> <a id="1815" href="Armor.Data.X690-DER.SetOf.TCB.html#1785" class="Bound">A</a><a id="1816" class="Symbol">)</a>

<a id="RawSetOfFields"></a><a id="1819" href="Armor.Data.X690-DER.SetOf.TCB.html#1819" class="Function">RawSetOfFields</a> <a id="1834" class="Symbol">:</a> <a id="1836" class="Symbol">{</a><a id="1837" href="Armor.Data.X690-DER.SetOf.TCB.html#1837" class="Bound">A</a> <a id="1839" class="Symbol">:</a> <a id="1841" class="Symbol">@</a><a id="1842" class="Symbol">0</a> <a id="1844" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1849" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a> <a id="1855" class="Symbol">→</a> <a id="1857" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="1860" class="Symbol">}</a> <a id="1862" class="Symbol">→</a> <a id="1864" href="Armor.Grammar.Definitions.NonMalleable.Base.html#125" class="Record">Raw</a> <a id="1868" href="Armor.Data.X690-DER.SetOf.TCB.html#1837" class="Bound">A</a> <a id="1870" class="Symbol">→</a> <a id="1872" href="Armor.Grammar.Definitions.NonMalleable.Base.html#125" class="Record">Raw</a> <a id="1876" class="Symbol">(</a><a id="1877" href="Armor.Data.X690-DER.SetOf.TCB.html#1227" class="Record">SetOfFields</a> <a id="1889" href="Armor.Data.X690-DER.SetOf.TCB.html#1837" class="Bound">A</a><a id="1890" class="Symbol">)</a>
<a id="1892" href="Armor.Grammar.Definitions.NonMalleable.Base.html#176" class="Field">Raw.D</a> <a id="1898" class="Symbol">(</a><a id="1899" href="Armor.Data.X690-DER.SetOf.TCB.html#1819" class="Function">RawSetOfFields</a> <a id="1914" href="Armor.Data.X690-DER.SetOf.TCB.html#1914" class="Bound">R</a><a id="1915" class="Symbol">)</a> <a id="1917" class="Symbol">=</a> <a id="1919" href="Armor.Grammar.Definitions.NonMalleable.Base.html#176" class="Field">Raw.D</a> <a id="1925" class="Symbol">(</a><a id="1926" href="Armor.Data.X690-DER.SequenceOf.TCB.html#1645" class="Function">RawBoundedSequenceOf</a> <a id="1947" href="Armor.Data.X690-DER.SetOf.TCB.html#1914" class="Bound">R</a> <a id="1949" class="Number">1</a><a id="1950" class="Symbol">)</a>
<a id="1952" href="Armor.Grammar.Definitions.NonMalleable.Base.html#188" class="Field">Raw.to</a> <a id="1959" class="Symbol">(</a><a id="1960" href="Armor.Data.X690-DER.SetOf.TCB.html#1819" class="Function">RawSetOfFields</a> <a id="1975" href="Armor.Data.X690-DER.SetOf.TCB.html#1975" class="Bound">R</a><a id="1976" class="Symbol">)</a> <a id="1978" href="Armor.Data.X690-DER.SetOf.TCB.html#1978" class="Bound">so</a> <a id="1981" class="Symbol">=</a> <a id="1983" href="Armor.Grammar.Definitions.NonMalleable.Base.html#188" class="Field">Raw.to</a> <a id="1990" class="Symbol">(</a><a id="1991" href="Armor.Data.X690-DER.SequenceOf.TCB.html#1645" class="Function">RawBoundedSequenceOf</a> <a id="2012" href="Armor.Data.X690-DER.SetOf.TCB.html#1975" class="Bound">R</a> <a id="2014" class="Number">1</a><a id="2015" class="Symbol">)</a> <a id="2017" class="Symbol">(</a><a id="2018" href="Armor.Data.X690-DER.SetOf.TCB.html#1338" class="Field">SetOfFields.elems</a> <a id="2036" href="Armor.Data.X690-DER.SetOf.TCB.html#1978" class="Bound">so</a><a id="2038" class="Symbol">)</a>

<a id="RawSetOf"></a><a id="2041" href="Armor.Data.X690-DER.SetOf.TCB.html#2041" class="Function">RawSetOf</a> <a id="2050" class="Symbol">:</a> <a id="2052" class="Symbol">{</a><a id="2053" href="Armor.Data.X690-DER.SetOf.TCB.html#2053" class="Bound">A</a> <a id="2055" class="Symbol">:</a> <a id="2057" class="Symbol">@</a><a id="2058" class="Symbol">0</a> <a id="2060" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2065" href="Armor.Binary.UInt8.TCB.html#158" class="Function">UInt8</a> <a id="2071" class="Symbol">→</a> <a id="2073" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="2076" class="Symbol">}</a> <a id="2078" class="Symbol">→</a> <a id="2080" href="Armor.Grammar.Definitions.NonMalleable.Base.html#125" class="Record">Raw</a> <a id="2084" href="Armor.Data.X690-DER.SetOf.TCB.html#2053" class="Bound">A</a> <a id="2086" class="Symbol">→</a> <a id="2088" href="Armor.Grammar.Definitions.NonMalleable.Base.html#125" class="Record">Raw</a> <a id="2092" class="Symbol">(</a><a id="2093" href="Armor.Data.X690-DER.SetOf.TCB.html#1723" class="Function">SetOf</a> <a id="2099" href="Armor.Data.X690-DER.SetOf.TCB.html#2053" class="Bound">A</a><a id="2100" class="Symbol">)</a>
<a id="2102" href="Armor.Data.X690-DER.SetOf.TCB.html#2041" class="Function">RawSetOf</a> <a id="2111" href="Armor.Data.X690-DER.SetOf.TCB.html#2111" class="Bound">R</a> <a id="2113" class="Symbol">=</a> <a id="2115" href="Armor.Data.X690-DER.TLV.TCB.html#1272" class="Function">RawTLV</a> <a id="2122" class="Symbol">_</a> <a id="2124" class="Symbol">(</a><a id="2125" href="Armor.Data.X690-DER.SetOf.TCB.html#1819" class="Function">RawSetOfFields</a> <a id="2140" href="Armor.Data.X690-DER.SetOf.TCB.html#2111" class="Bound">R</a><a id="2141" class="Symbol">)</a>
</pre></body></html>