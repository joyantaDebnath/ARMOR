<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>IO</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- IO</a>
<a id="112" class="Comment">------------------------------------------------------------------------</a>

<a id="186" class="Symbol">{-#</a> <a id="190" class="Keyword">OPTIONS</a> <a id="198" class="Pragma">--without-K</a> <a id="210" class="Pragma">--guardedness</a> <a id="224" class="Symbol">#-}</a>

<a id="229" class="Keyword">module</a> <a id="236" href="IO.html" class="Module">IO</a> <a id="239" class="Keyword">where</a>

<a id="246" class="Keyword">open</a> <a id="251" class="Keyword">import</a> <a id="258" href="Codata.Musical.Notation.html" class="Module">Codata.Musical.Notation</a>
<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Codata.Musical.Costring.html" class="Module">Codata.Musical.Costring</a>
<a id="318" class="Keyword">open</a> <a id="323" class="Keyword">import</a> <a id="330" href="Data.Unit.Polymorphic.Base.html" class="Module">Data.Unit.Polymorphic.Base</a>
<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Data.String.Base.html" class="Module">Data.String.Base</a>
<a id="386" class="Keyword">import</a> <a id="393" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a> <a id="408" class="Symbol">as</a> <a id="411" class="Module">Unit0</a>
<a id="417" class="Keyword">open</a> <a id="422" class="Keyword">import</a> <a id="429" href="Function.Base.html" class="Module">Function.Base</a> <a id="443" class="Keyword">using</a> <a id="449" class="Symbol">(</a><a id="450" href="Function.Base.html#1031" class="Function Operator">_∘_</a><a id="453" class="Symbol">)</a>
<a id="455" class="Keyword">import</a> <a id="462" href="IO.Primitive.html" class="Module">IO.Primitive</a> <a id="475" class="Symbol">as</a> <a id="478" class="Module">Prim</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="Level.html" class="Module">Level</a>

<a id="502" class="Keyword">private</a>
  <a id="512" class="Keyword">variable</a>
    <a id="525" href="IO.html#525" class="Generalizable">a</a> <a id="527" href="IO.html#527" class="Generalizable">b</a> <a id="529" class="Symbol">:</a> <a id="531" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="541" href="IO.html#541" class="Generalizable">A</a> <a id="543" class="Symbol">:</a> <a id="545" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="549" href="IO.html#525" class="Generalizable">a</a>
    <a id="555" href="IO.html#555" class="Generalizable">B</a> <a id="557" class="Symbol">:</a> <a id="559" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="563" href="IO.html#527" class="Generalizable">b</a>

<a id="566" class="Comment">------------------------------------------------------------------------</a>
<a id="639" class="Comment">-- Re-exporting the basic type and functions</a>

<a id="685" class="Keyword">open</a> <a id="690" class="Keyword">import</a> <a id="697" href="IO.Base.html" class="Module">IO.Base</a> <a id="705" class="Keyword">public</a>

<a id="713" class="Comment">------------------------------------------------------------------------</a>
<a id="786" class="Comment">-- Utilities</a>

<a id="800" class="Keyword">module</a> <a id="Colist"></a><a id="807" href="IO.html#807" class="Module">Colist</a> <a id="814" class="Keyword">where</a>

  <a id="823" class="Keyword">open</a> <a id="828" class="Keyword">import</a> <a id="835" href="Codata.Musical.Colist.Base.html" class="Module">Codata.Musical.Colist.Base</a>

  <a id="Colist.sequence"></a><a id="865" href="IO.html#865" class="Function">sequence</a> <a id="874" class="Symbol">:</a> <a id="876" href="Codata.Musical.Colist.Base.html#870" class="Datatype">Colist</a> <a id="883" class="Symbol">(</a><a id="884" href="IO.Base.html#917" class="Datatype">IO</a> <a id="887" href="IO.html#541" class="Generalizable">A</a><a id="888" class="Symbol">)</a> <a id="890" class="Symbol">→</a> <a id="892" href="IO.Base.html#917" class="Datatype">IO</a> <a id="895" class="Symbol">(</a><a id="896" href="Codata.Musical.Colist.Base.html#870" class="Datatype">Colist</a> <a id="903" href="IO.html#541" class="Generalizable">A</a><a id="904" class="Symbol">)</a>
  <a id="908" href="IO.html#865" class="Function">sequence</a> <a id="917" href="Codata.Musical.Colist.Base.html#905" class="InductiveConstructor">[]</a>       <a id="926" class="Symbol">=</a> <a id="928" href="IO.Base.html#988" class="InductiveConstructor">return</a> <a id="935" href="Codata.Musical.Colist.Base.html#905" class="InductiveConstructor">[]</a>
  <a id="940" href="IO.html#865" class="Function">sequence</a> <a id="949" class="Symbol">(</a><a id="950" href="IO.html#950" class="Bound">c</a> <a id="952" href="Codata.Musical.Colist.Base.html#922" class="InductiveConstructor Operator">∷</a> <a id="954" href="IO.html#954" class="Bound">cs</a><a id="956" class="Symbol">)</a> <a id="958" class="Symbol">=</a> <a id="960" href="IO.Base.html#1014" class="InductiveConstructor">bind</a> <a id="965" class="Symbol">(</a><a id="966" href="Agda.Builtin.Coinduction.html#218" class="CoinductiveConstructor Operator">♯</a> <a id="968" href="IO.html#950" class="Bound">c</a><a id="969" class="Symbol">)</a>               <a id="985" class="Symbol">λ</a> <a id="987" href="IO.html#987" class="Bound">x</a>  <a id="990" class="Symbol">→</a> <a id="992" href="Agda.Builtin.Coinduction.html#218" class="CoinductiveConstructor Operator">♯</a>
                      <a id="1016" href="IO.Base.html#1014" class="InductiveConstructor">bind</a> <a id="1021" class="Symbol">(</a><a id="1022" href="Agda.Builtin.Coinduction.html#218" class="CoinductiveConstructor Operator">♯</a> <a id="1024" href="IO.html#865" class="Function">sequence</a> <a id="1033" class="Symbol">(</a><a id="1034" href="Agda.Builtin.Coinduction.html#253" class="Field">♭</a> <a id="1036" href="IO.html#954" class="Bound">cs</a><a id="1038" class="Symbol">))</a> <a id="1041" class="Symbol">λ</a> <a id="1043" href="IO.html#1043" class="Bound">xs</a> <a id="1046" class="Symbol">→</a> <a id="1048" href="Agda.Builtin.Coinduction.html#218" class="CoinductiveConstructor Operator">♯</a>
                      <a id="1072" href="IO.Base.html#988" class="InductiveConstructor">return</a> <a id="1079" class="Symbol">(</a><a id="1080" href="IO.html#987" class="Bound">x</a> <a id="1082" href="Codata.Musical.Colist.Base.html#922" class="InductiveConstructor Operator">∷</a> <a id="1084" href="Agda.Builtin.Coinduction.html#218" class="CoinductiveConstructor Operator">♯</a> <a id="1086" href="IO.html#1043" class="Bound">xs</a><a id="1088" class="Symbol">)</a>

  <a id="1093" class="Comment">-- The reason for not defining sequence′ in terms of sequence is</a>
  <a id="1160" class="Comment">-- efficiency (the unused results could cause unnecessary memory use).</a>

  <a id="Colist.sequence′"></a><a id="1234" href="IO.html#1234" class="Function">sequence′</a> <a id="1244" class="Symbol">:</a> <a id="1246" href="Codata.Musical.Colist.Base.html#870" class="Datatype">Colist</a> <a id="1253" class="Symbol">(</a><a id="1254" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1257" href="IO.html#541" class="Generalizable">A</a><a id="1258" class="Symbol">)</a> <a id="1260" class="Symbol">→</a> <a id="1262" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1265" href="Data.Unit.Polymorphic.Base.html#480" class="Function">⊤</a>
  <a id="1269" href="IO.html#1234" class="Function">sequence′</a> <a id="1279" href="Codata.Musical.Colist.Base.html#905" class="InductiveConstructor">[]</a>       <a id="1288" class="Symbol">=</a> <a id="1290" href="IO.Base.html#988" class="InductiveConstructor">return</a> <a id="1297" class="Symbol">_</a>
  <a id="1301" href="IO.html#1234" class="Function">sequence′</a> <a id="1311" class="Symbol">(</a><a id="1312" href="IO.html#1312" class="Bound">c</a> <a id="1314" href="Codata.Musical.Colist.Base.html#922" class="InductiveConstructor Operator">∷</a> <a id="1316" href="IO.html#1316" class="Bound">cs</a><a id="1318" class="Symbol">)</a> <a id="1320" class="Symbol">=</a> <a id="1322" href="IO.Base.html#1084" class="InductiveConstructor">seq</a> <a id="1326" class="Symbol">(</a><a id="1327" href="Agda.Builtin.Coinduction.html#218" class="CoinductiveConstructor Operator">♯</a> <a id="1329" href="IO.html#1312" class="Bound">c</a><a id="1330" class="Symbol">)</a> <a id="1332" class="Symbol">(</a><a id="1333" href="Agda.Builtin.Coinduction.html#218" class="CoinductiveConstructor Operator">♯</a> <a id="1335" href="IO.html#1234" class="Function">sequence′</a> <a id="1345" class="Symbol">(</a><a id="1346" href="Agda.Builtin.Coinduction.html#253" class="Field">♭</a> <a id="1348" href="IO.html#1316" class="Bound">cs</a><a id="1350" class="Symbol">))</a>

  <a id="Colist.mapM"></a><a id="1356" href="IO.html#1356" class="Function">mapM</a> <a id="1361" class="Symbol">:</a> <a id="1363" class="Symbol">(</a><a id="1364" href="IO.html#541" class="Generalizable">A</a> <a id="1366" class="Symbol">→</a> <a id="1368" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1371" href="IO.html#555" class="Generalizable">B</a><a id="1372" class="Symbol">)</a> <a id="1374" class="Symbol">→</a> <a id="1376" href="Codata.Musical.Colist.Base.html#870" class="Datatype">Colist</a> <a id="1383" href="IO.html#541" class="Generalizable">A</a> <a id="1385" class="Symbol">→</a> <a id="1387" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1390" class="Symbol">(</a><a id="1391" href="Codata.Musical.Colist.Base.html#870" class="Datatype">Colist</a> <a id="1398" href="IO.html#555" class="Generalizable">B</a><a id="1399" class="Symbol">)</a>
  <a id="1403" href="IO.html#1356" class="Function">mapM</a> <a id="1408" href="IO.html#1408" class="Bound">f</a> <a id="1410" class="Symbol">=</a> <a id="1412" href="IO.html#865" class="Function">sequence</a> <a id="1421" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1423" href="Codata.Musical.Colist.Base.html#1469" class="Function">map</a> <a id="1427" href="IO.html#1408" class="Bound">f</a>

  <a id="Colist.mapM′"></a><a id="1432" href="IO.html#1432" class="Function">mapM′</a> <a id="1438" class="Symbol">:</a> <a id="1440" class="Symbol">(</a><a id="1441" href="IO.html#541" class="Generalizable">A</a> <a id="1443" class="Symbol">→</a> <a id="1445" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1448" href="IO.html#555" class="Generalizable">B</a><a id="1449" class="Symbol">)</a> <a id="1451" class="Symbol">→</a> <a id="1453" href="Codata.Musical.Colist.Base.html#870" class="Datatype">Colist</a> <a id="1460" href="IO.html#541" class="Generalizable">A</a> <a id="1462" class="Symbol">→</a> <a id="1464" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1467" href="Data.Unit.Polymorphic.Base.html#480" class="Function">⊤</a>
  <a id="1471" href="IO.html#1432" class="Function">mapM′</a> <a id="1477" href="IO.html#1477" class="Bound">f</a> <a id="1479" class="Symbol">=</a> <a id="1481" href="IO.html#1234" class="Function">sequence′</a> <a id="1491" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1493" href="Codata.Musical.Colist.Base.html#1469" class="Function">map</a> <a id="1497" href="IO.html#1477" class="Bound">f</a>

<a id="1500" class="Keyword">module</a> <a id="List"></a><a id="1507" href="IO.html#1507" class="Module">List</a> <a id="1512" class="Keyword">where</a>

  <a id="1521" class="Keyword">open</a> <a id="1526" class="Keyword">import</a> <a id="1533" href="Data.List.Base.html" class="Module">Data.List.Base</a>

  <a id="List.sequence"></a><a id="1551" href="IO.html#1551" class="Function">sequence</a> <a id="1560" class="Symbol">:</a> <a id="1562" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1567" class="Symbol">(</a><a id="1568" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1571" href="IO.html#541" class="Generalizable">A</a><a id="1572" class="Symbol">)</a> <a id="1574" class="Symbol">→</a> <a id="1576" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1579" class="Symbol">(</a><a id="1580" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1585" href="IO.html#541" class="Generalizable">A</a><a id="1586" class="Symbol">)</a>
  <a id="1590" href="IO.html#1551" class="Function">sequence</a> <a id="1599" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>       <a id="1608" class="Symbol">=</a> <a id="1610" class="Symbol">⦇</a> <a id="1612" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="1615" class="Symbol">⦈</a>
  <a id="1619" href="IO.html#1551" class="Function">sequence</a> <a id="1628" class="Symbol">(</a><a id="1629" href="IO.html#1629" class="Bound">c</a> <a id="1631" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1633" href="IO.html#1633" class="Bound">cs</a><a id="1635" class="Symbol">)</a> <a id="1637" class="Symbol">=</a> <a id="1639" class="Symbol">⦇</a> <a id="1641" href="IO.html#1629" class="Bound">c</a> <a id="1643" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1645" href="IO.html#1551" class="Function">sequence</a> <a id="1654" href="IO.html#1633" class="Bound">cs</a> <a id="1657" class="Symbol">⦈</a>

  <a id="1662" class="Comment">-- The reason for not defining sequence′ in terms of sequence is</a>
  <a id="1729" class="Comment">-- efficiency (the unused results could cause unnecessary memory use).</a>

  <a id="List.sequence′"></a><a id="1803" href="IO.html#1803" class="Function">sequence′</a> <a id="1813" class="Symbol">:</a> <a id="1815" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1820" class="Symbol">(</a><a id="1821" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1824" href="IO.html#541" class="Generalizable">A</a><a id="1825" class="Symbol">)</a> <a id="1827" class="Symbol">→</a> <a id="1829" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1832" href="Data.Unit.Polymorphic.Base.html#480" class="Function">⊤</a>
  <a id="1836" href="IO.html#1803" class="Function">sequence′</a> <a id="1846" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>       <a id="1855" class="Symbol">=</a> <a id="1857" href="IO.Base.html#988" class="InductiveConstructor">return</a> <a id="1864" class="Symbol">_</a>
  <a id="1868" href="IO.html#1803" class="Function">sequence′</a> <a id="1878" class="Symbol">(</a><a id="1879" href="IO.html#1879" class="Bound">c</a> <a id="1881" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1883" href="IO.html#1883" class="Bound">cs</a><a id="1885" class="Symbol">)</a> <a id="1887" class="Symbol">=</a> <a id="1889" href="IO.html#1879" class="Bound">c</a> <a id="1891" href="IO.Base.html#1475" class="Function Operator">&gt;&gt;</a> <a id="1894" href="IO.html#1803" class="Function">sequence′</a> <a id="1904" href="IO.html#1883" class="Bound">cs</a>

  <a id="List.mapM"></a><a id="1910" href="IO.html#1910" class="Function">mapM</a> <a id="1915" class="Symbol">:</a> <a id="1917" class="Symbol">(</a><a id="1918" href="IO.html#541" class="Generalizable">A</a> <a id="1920" class="Symbol">→</a> <a id="1922" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1925" href="IO.html#555" class="Generalizable">B</a><a id="1926" class="Symbol">)</a> <a id="1928" class="Symbol">→</a> <a id="1930" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1935" href="IO.html#541" class="Generalizable">A</a> <a id="1937" class="Symbol">→</a> <a id="1939" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1942" class="Symbol">(</a><a id="1943" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1948" href="IO.html#555" class="Generalizable">B</a><a id="1949" class="Symbol">)</a>
  <a id="1953" href="IO.html#1910" class="Function">mapM</a> <a id="1958" href="IO.html#1958" class="Bound">f</a> <a id="1960" class="Symbol">=</a> <a id="1962" href="IO.html#1551" class="Function">sequence</a> <a id="1971" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1973" href="Data.List.Base.html#1544" class="Function">map</a> <a id="1977" href="IO.html#1958" class="Bound">f</a>

  <a id="List.mapM′"></a><a id="1982" href="IO.html#1982" class="Function">mapM′</a> <a id="1988" class="Symbol">:</a> <a id="1990" class="Symbol">(</a><a id="1991" href="IO.html#541" class="Generalizable">A</a> <a id="1993" class="Symbol">→</a> <a id="1995" href="IO.Base.html#917" class="Datatype">IO</a> <a id="1998" href="IO.html#555" class="Generalizable">B</a><a id="1999" class="Symbol">)</a> <a id="2001" class="Symbol">→</a> <a id="2003" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2008" href="IO.html#541" class="Generalizable">A</a> <a id="2010" class="Symbol">→</a> <a id="2012" href="IO.Base.html#917" class="Datatype">IO</a> <a id="2015" href="Data.Unit.Polymorphic.Base.html#480" class="Function">⊤</a>
  <a id="2019" href="IO.html#1982" class="Function">mapM′</a> <a id="2025" href="IO.html#2025" class="Bound">f</a> <a id="2027" class="Symbol">=</a> <a id="2029" href="IO.html#1803" class="Function">sequence′</a> <a id="2039" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="2041" href="Data.List.Base.html#1544" class="Function">map</a> <a id="2045" href="IO.html#2025" class="Bound">f</a>

<a id="2048" class="Comment">------------------------------------------------------------------------</a>
<a id="2121" class="Comment">-- Simple lazy IO</a>

<a id="2140" class="Comment">-- Note that the functions below produce commands which, when</a>
<a id="2202" class="Comment">-- executed, may raise exceptions.</a>

<a id="2238" class="Comment">-- Note also that the semantics of these functions depends on the</a>
<a id="2304" class="Comment">-- version of the Haskell base library. If the version is 4.2.0.0 (or</a>
<a id="2374" class="Comment">-- later?), then the functions use the character encoding specified by</a>
<a id="2445" class="Comment">-- the locale. For older versions of the library (going back to at</a>
<a id="2512" class="Comment">-- least version 3) the functions use ISO-8859-1.</a>

<a id="2563" class="Keyword">open</a> <a id="2568" class="Keyword">import</a> <a id="2575" href="IO.Finite.html" class="Module">IO.Finite</a> <a id="2585" class="Keyword">public</a>
  <a id="2594" class="Keyword">renaming</a> <a id="2603" class="Symbol">(</a><a id="2604" href="IO.Finite.html#1200" class="Function">readFile</a> <a id="2613" class="Symbol">to</a> <a id="2616" class="Function">readFiniteFile</a><a id="2630" class="Symbol">)</a>

<a id="2633" class="Keyword">open</a> <a id="2638" class="Keyword">import</a> <a id="2645" href="IO.Infinite.html" class="Module">IO.Infinite</a> <a id="2657" class="Keyword">public</a>
  <a id="2666" class="Keyword">renaming</a> <a id="2675" class="Symbol">(</a> <a id="2677" href="IO.Infinite.html#1239" class="Function">writeFile</a>  <a id="2688" class="Symbol">to</a> <a id="2691" class="Function">writeFile∞</a>
           <a id="2713" class="Symbol">;</a> <a id="2715" href="IO.Infinite.html#1324" class="Function">appendFile</a> <a id="2726" class="Symbol">to</a> <a id="2729" class="Function">appendFile∞</a>
           <a id="2752" class="Symbol">;</a> <a id="2754" href="IO.Infinite.html#1412" class="Function">putStr</a>     <a id="2765" class="Symbol">to</a> <a id="2768" class="Function">putStr∞</a>
           <a id="2787" class="Symbol">;</a> <a id="2789" href="IO.Infinite.html#1475" class="Function">putStrLn</a>   <a id="2800" class="Symbol">to</a> <a id="2803" class="Function">putStrLn∞</a>
           <a id="2824" class="Symbol">)</a>
</pre></body></html>